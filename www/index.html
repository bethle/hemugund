<html>
    <head>
        <link href="css/style.css" rel="stylesheet">
        <script type="text/javascript" src="phonegap.js"></script>        
        <script type="text/javascript" src="lib/jquery.js"></script>
        <script type="text/javascript" >
            $(document).ready(function()
            {
                document.addEventListener("deviceready", setOverrideBackbutton, false);
            });

            function setOverrideBackbutton()
            {
                if ((typeof device != "undefined") && (device.platform == "Android"))
                {
                    navigator.app.overrideBackbutton(true);
                }
                document.addEventListener("backbutton", backButtonTap, true);
            }
            function backButtonTap()
            {
                if (location.href.indexOf("#") === (location.href.length - 1) || location.href.split("#", 2)[1] === "Login") {
                    navigator.notification.confirm("Are you sure you want to logout?", function(buttonIndex) {
                        if (buttonIndex === 1) {
                            location.href = "#Logout";
                        }
                    }, 'Warning!', ['YES', 'NO']);
                    return;
                }

                var hash = window.location.hash, match;
                match = hash.match(/^#Back/);
                if (match) {
                    location.href = "#";
                    return;
                }
                match = hash.match(/^#Not\/.{6}/);
                if (match) {
                    location.href = "#";
                    return;
                }
                match = hash.match(/^#Detail.{6}\/.{1,}/);
                if (match) {
                    location.href = "#Back";
                    return;
                }
                if (!match) {
                    navigator.notification.confirm("Are you sure you want to exit from Application?", function(buttonIndex) {
                        if (buttonIndex === 1) {
                            navigator.app.exitApp();
                        }
                    }, 'Warning!', ['YES', 'NO']);
                }
            }

        </script>
        <script type="text/javascript" src="lib/handlebars.js"></script>
    </head>
    <body>
        <script type="text/x-handlebars-template" id="login-view-tpl">            
            <div id="loginScreen" >
            <div></div>
            <div></div>
            <div>
            <table cellspacing="0" cellpadding="0">
            <tr>
            <td>    
            <div></div>
            <input type="text" placeholder="Username" id="user-name" value="" >
            </td>                                   
            </tr>
            <tr><td></td></tr>
            <tr>
            <td>
            <div></div>
            <input type="password" placeholder="Password" id="password" value="" >
            </td>
            </tr>
            </table>
            </div>                
            <div>
            <div><input type="submit" value="Sign In" onclick="location.href='#Login'"/><a>Forgot Username or Password ?</a></div>                        
            </div>
            <p>Anblicks &#169; 2013. All rights reserved.</p>
            </div>            
            </div>            
            <div  id="loading-screen" class="loading-hide" ><div><div></div>
        </script>



        <script id="notifications-view-tpl" type="text/x-handlebars-template">
            <div class='header'><a class='button header-button header-button-left' href="#Logout">Logout</a><h1 style="padding-top: 5px;">Notifications</h1></div>
            <div id='content-notify' class="wrap"> 
            <ul class="scrollable">
            <li>
            <a href="#Not/rqstns"><div>
            <div id="requistion-count"><img style="padding-top:4px;" src="img/mini-loading.gif"/></div>
            <div>Requisition</div>
            </div></a>
            </li>   
            <li>
            <a href="#Not/xpnsap"><div>
            <div id="expense-app-count"><img style="padding-top:4px;" src="img/mini-loading.gif"/></div>
            <div>Exp. Approval</div>
            </div></a>
            </li>   
            <li>
            <a href="#Not/pblnvc"><div>
            <div id="pay-inv-count"><img style="padding-top:4px;" src="img/mini-loading.gif"/></div>
            <div>Payable Invoice</div>
            </div></a>
            </li>   
            <li>
            <a href="#Not/prchrd"><div>
            <div id="purch-ord-count"><img style="padding-top:4px;" src="img/mini-loading.gif"/></div>
            <div>Purchase Order</div>
            </div></a>
            </li>   
            <li>
            <a href="#Not/others"><div>
            <div style="display:none"></div>
            <div>Others</div>
            </div></a>
            </li>   
            </ul>
            </div>
            </div>
            </div>
        </script>

        <script id="notification-header-view-tpl" type="text/x-handlebars-template">
            <div class='header'><a href='#' class='button header-button header-button-left'>Back</a><h1>{{type}}</h1><h3>{{name}}</h3></div>
            <div id="search">
            <div><input type="search" id="search-input" /></div>
            <div id="search-notify-header" class="search-button" >Search</div>
            </div>
            <div id='header-list' class="scrollable" style="top:92px;bottom:0px;left0px;right:0px;">                
            <ul id="{{mod}}-header-list" >         
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 20px;" />
            </li>
            </ul>
            </div>
        </script>

        <script id="notification-detail-view-tpl" type="text/x-handlebars-template" >
            <div class='header'><a class='button header-button header-button-left ' href="#Back">Back</a><h1 style="padding-top: 5px;">{{num}}</h1></div>
            <div id="header-details" >
            <div>            
            <p>{{this.name}}</p>
            <p>{{this.amount}}<span>{{this.code}}</span></p>            
            </div>           
            <div><span>{{this.date}}</span></div>
            <div id="ui-tabs">
            <ul>                    
            <li onclick="app.tab(this)" ></li>    
            <li onclick="app.tab(this)" ></li>            
            <li onclick="app.tab(this)" ></li>                    
            </ul>         
            <div><a onclick="app.popAlert('AttachmentAlert');" ><img src="img/attachment-icon.png" ></a>            <ul id="attachment-list" ></ul>
            </div>
            </div>
            <div id="ui-tab-content">
            <div class="details show" id="list-items" >
            <table cellspacing="0" cellpadding="0" >
            <tr>
            <td><span>Line</span></td>
            <td><span>Quantity</span></td>
            <td><span>Price</span></td>
            <td><span>Amount({{this.code}})</span></td>
            </tr>
            </table>
            <ul id="notify-lines-list"  class="scrollable" style="top:47px;bottom:0px;">
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 5px;" />
            </li>
            </ul>
            </div>            
            <div class="details" id="information" >
            <div>
            <ul id="header-details-list" class="scrollable">            
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 5px;" />
            </li>
            </ul>
            </div>
            </div>                                  
            <div class="details" id="history" >
            <div>
            <ul id="history-list" class="scrollable">
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 5px;" />
            </li>
            </ul>
            </div>
            </div>             
            </div>
            </div>
            <div id="popup-bckgrnd" class="popup-hide" >
            <div id="ApproveAlert" class="popup-hide" >
            <img src="img/Close.png" onclick="closeAlert(this)" />
            <p>Do you want to approve?</p>
            <p>Comments:</p>  
            <textarea id="approve-comment" ></textarea>
            <div><input type="button" value="OK" onclick="location.href = '#Approve'" /></div>                     
            </div>
            <div id="ForwardAlert" class="popup-hide" >
            <img src="img/Close.png" onclick="closeAlert(this);" />
            <table cellspacing='0' cellpadding='0'>
            <tr>
            <td>
            Person Name:
            </td>
            <td>
            <div>
            <div id='select-user' >Choose a person...</div>
            <img src="img/arrow.png" />
            <select id="user-list" onchange="document.getElementById('select-user').innerHTML = this.options[this.selectedIndex].text" >
            <option value='' >Choose a person...</option>                                        
            <option value='sysadmin' >sysadmin</option>            
            <option value='bpalmer' >bpalmer</option>            
            <option value='tgreen' >tgreen</option>            
            <option value='cbrown' >cbrown</option>            
            </select>
            </div>    
            </td>
            </tr>
            </table>
            <div><input type="button" value="Send" onclick="location.href = '#Forward'" /></div>
            </div>
            <div id="RejectAlert" class="popup-hide" >
            <img src="img/Close.png" onclick="closeAlert(this)" />
            <p>Do you want to Reject?</p>
            <p>Comments:</p>  
            <textarea id="reject-comment" ></textarea>
            <div ><input type="button" value="OK" onclick="location.href = '#Reject'" /></div>                     
            </div>
            <div id="AttachmentAlert" class="popup-hide" >
            <img src="img/Close.png" onclick="closeAlert(this)" />
            <ul id="attachment-list">
            </ul>
            </div>   
            </div>            
        </script>

        <script id="header-list-tpl" type="text/x-handlebars-template" >                   
            {{#.}}
            <li>            
            <a href="#Detail{{this.mod}}/{{this.hid}}-{{this.id}}" >
            <table cellpadding="0" cellspacing="0" >
            <tr>
            <td>
            <table cellpadding="0" cellspacing="0" >
            <tr>
            <td><div class={{icon}} ></div></div>&nbsp;<span id="{{this.hid}}-num">{{this.num}}</span><span id="{{this.hid}}-name">{{this.name}}</span></td>                                                                                                            
            </tr>
            <tr>
            <td>
            <span>{{this.subject}}</span>
            </td>                                                                                                            
            </tr>
            </table>
            </td>
            <td>           
            <div><img class="list-arrow" src="img/arrow.png" /></div>
            <ul>
            <li id="{{this.hid}}-date">{{this.date}}</li>
            <li id="{{this.hid}}-amount">{{this.amount}}</li>                                        
            <li class={{color}} ><span>{{this.status}}</span>&nbsp;&nbsp;<span id="{{this.hid}}-code">{{this.code}}</span></li>
            </ul>
            </td>
            </tr>                                
            </table>                            
            </a>                    
            </li>
            {{/.}}         
        </script>

        <script id="notification-full-view-tpl" type="text/x-handlebars-template">
            <div class='header'><a href='#' class='button header-button header-button-left'>Back</a><h1>Sysadmin</h1></div>
            <div id="search">
            <div><input type="search" id="search-input" /></div>
            <div id="search-notify-header" class="search-button" >Search</div>
            </div>
            <div id='header-list'>                
            <ul class="search-header-list scroll" >         
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 20px;" />
            </li>
            </ul>
            </div>
        </script>


        <script id="notification-lines-tpl" type="text/x-handlebars-template" >
            {{#.}}
            <li>                            
            <table cellspacing="0" cellpadding="0" onclick="app.toggle(this)" >
            <tr>
            <td><span>{{this.num}}</span></td>
            <td><span>{{this.qnty}}</span></td>
            <td><span>{{this.price}}</span></td>
            <td><span>{{this.amount}}</span></td>
            </tr>
            <tr><td colspan="4" >{{this.desc}}</td></tr>
            </table> 
            <div class="sliding-effect" >
            <ul>  
            <li>
            <span>Item Number:</span>
            <span>{{this.item}}</span>
            </li> 
            <li>
            <span>Category:</span>
            <span>{{this.categ}}</span>
            </li> 
            <li>
            <span>UOM:</span>
            <span>{{this.uom}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
            </ul> 
            <table cellspacing="0" cellpadding="0" >
            <tr>
            <td>Distribution No.</td>
            <td>Charge Account</td>
            <td>Project Name</td>
            <td>Task Name</td>
            </tr>
            </table>
            <ul id="{{this.id}}-dist-list">
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 5px;" />
            </li>
            </ul>            
            </div>
            </li>   
            {{/.}}
        </script>            

        <script id="expense-lines-tpl" type="text/x-handlebars-template" >
            {{#.}}
            <li>                            
            <table cellspacing="0" cellpadding="0" onclick="app.toggle(this)" >
            <tr>
            <td><span>{{this.num}}</span></td>
            <td><span>{{this.rec_verify}}</span></td>            
            <td><span>{{this.amount}}</span></td>
            </tr>
            <tr><td colspan="4" >{{this.desc}}</td></tr>
            </table> 
            <div class="sliding-effect" >
            <ul>  
            <li>
            <span>Item Number:</span>
            <span>{{this.item}}</span>
            </li> 
            <li>
            <span>Justification:</span>
            <span>{{this.just}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

            </ul> 
            <table cellspacing="0" cellpadding="0" >
            <tr>
            <td>Distribution No.</td>
            <td>Charge Account</td>
            <td>Project Name</td>
            <td>Task Name</td>
            </tr>
            </table>
            <ul id="{{this.id}}-dist-list">
            <li style="text-align:center;">            
            <img src="img/mini-loading.gif" style="padding-top: 5px;" />
            </li>
            </ul>            
            </div>
            </li>   
            {{/.}}
        </script>            

        <script id="history-list-tpl" type="text/x-handlebars-template" >
            {{#.}}
            <li>
            <table cellpadding="0" cellspacing="0"  >
            <tr>
            <td>{{this.code}}</td>
            <td rowspan="2  " >{{this.name}}</td>
            </tr>
            <tr>
            <td>{{this.date}}</td>
            </tr>
            </table>
            </li>      
            {{/.}}
        </script>  

        <script id="distribution-list-tpl" type="text/x-handlebars-template" >
            {{#.}}
            <li>
            <table>
            <tr>
            <td>{{this.num}}</td>
            <td>{{this.acnt}}</td>            
            <td>{{this.project}}</td>
            <td>{{this.task}}</td>      
            </tr>
            </table>            
            </li> 
            {{/.}}
        </script>

        <script  id="requistion-header-details-list-tpl" type="text/x-handlebars-template" >                   
            <li>
            <span>Operating Unit Name:</span>
            <span>{{this.org}}</span>
            </li> 
            <li>
            <span>Requisition Description:</span>
            <span>{{this.desc}}</span>
            </li>                                                                                                                                                                  
            <li>
            <span>Preparer:</span>
            <span>{{this.name}}</span>
            </li>              
            <li>
            <span>Status:</span>
            <span>{{this.status}}</span>
            </li> 
            <li>
            <span>Creation Date:</span>
            <span>{{this.crdate}}</span>
            </li>                                                                                                                                                                                                                                                                                                              
            <li>
            <span>Req Number:</span>
            <span>{{this.num}}</span>
            </li>                                                                                                                                                                                                                                                                                                              
            <li>
            <span>Type:</span>
            <span>{{this.type}}</span>
            </li>                                                                                                                                                                                                                                                                                                                          
            <li>
            <span>Requestor:</span>
            <span>{{this.name}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                         
        </script>

        <script  id="purchase-header-details-list-tpl" type="text/x-handlebars-template" >                   
            <li>
            <span>Operating Unit Name:</span>
            <span>{{this.org}}</span>
            </li> 
            <li>
            <span>PurchaseOrder Description:</span>
            <span>{{this.desc}}</span>
            </li>                                                                                                                                                                  
            <li>
            <span>Buyer:</span>
            <span>{{this.name}}</span>
            </li>  
            <li>
            <span>Type:</span>
            <span>{{this.type}}</span>
            </li>  
            <li>
            <span>PO Number:</span>
            <span>{{this.num}}</span>
            </li>  
            <li>
            <span>Vendor:</span>
            <span>{{this.vname}}</span>
            </li>              
            <li>
            <span>Supplier Site:</span>
            <span>{{this.vsite}}</span>
            </li>             
            <li>
            <span>Ship To:</span>
            <span>{{this.shipTo}}</span>
            </li>
            <li>
            <span>Bill To:</span>
            <span>{{this.billTo}}</span>
            </li> 
            <li>
            <span>Status:</span>
            <span>{{this.status}}</span>
            </li> 
            <li>
            <span>Creation Date:</span>
            <span>{{this.crdate}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
        </script>

        <script  id="expense-header-details-list-tpl" type="text/x-handlebars-template" >                   
            <li>
            <span>Operating Unit Name:</span>
            <span>{{this.org}}</span>
            </li> 
            <li>
            <span>Expense Description:</span>
            <span>{{this.desc}}</span>
            </li>                                                                                                                                                                  
            <li>
            <span>Employee:</span>
            <span>{{this.name}}</span>
            </li>              
            <li>
            <span>Status:</span>
            <span>{{this.status}}</span>
            </li> 
            <li>
            <span>Creation Date:</span>
            <span>{{this.crdate}}</span>
            </li>                                                                                                                                                                                                                                                                                                              
            <li>
            <span>Invoice Number:</span>
            <span>{{this.num}}</span>
            </li>                                                                                                                                                                                                                                                                                                              
            <li>
            <span>Type:</span>
            <span>{{this.type}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
        </script>

        <script  id="invoice-header-details-list-tpl" type="text/x-handlebars-template" >                   
            <li>
            <span>Operating Unit Name:</span>
            <span>{{this.org}}</span>
            </li> 
            <li>
            <span>Invoice Description:</span>
            <span>{{this.desc}}</span>
            </li>                                                                                                                                                                  
            <li>
            <span>Requestor:</span>
            <span>{{this.name}}</span>
            </li>              
            <li>
            <span>Vendor Name:</span>
            <span>{{this.vname}}</span>
            </li> 
            <li>
            <span>Vendor Site:</span>
            <span>{{this.vsite}}</span>
            </li>             
            <li>
            <span>Status:</span>
            <span>{{this.status}}</span>
            </li> 
            <li>
            <span>Creation Date:</span>
            <span>{{this.crdate}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
            <li>
            <span>Type:</span>
            <span>{{this.type}}</span>
            </li>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
        </script>

        <script id="attachment-alert-tpl" type="text/x-handlebars-template">                        
            {{#.}}
            <li>{{file}}&nbsp;({{entity}})&nbsp;
            <span>&nbsp;{{user}}</span>
            <form action="http://182.18.157.157:7001/ebs/Download" method="POST" encrypt="multipart/form-data" id="form-{{id}}" >
            <input type="hidden" name="name" value="{{file}}" />
            <input type="hidden" name="format" value="{{type}}" />
            <input type="hidden" name="id" value="{{id}}" />
            <a class="download-file" onclick="document.getElementById('form-{{id}}').submit();" >Download</a>
            </form>
            </li>
            {{/.}}
        </script>

        <script type="text/javascript" src="js/LoginView.js"></script>
        <script type="text/javascript" src="js/NotificationsView.js"></script>
        <script type="text/javascript" src="js/NotificationHeaderView.js"></script>        
        <script type="text/javascript" src="js/NotificationDetailView.js"></script>        
        <script type="text/javascript" src="js/main.js"></script>
    </body>
</html>
